WT_DECLARE_WT_MEMBER(1,JavaScriptConstructor,"WAxisSliderWidget",function(G,j,l,g){function z(a){return a.pointerType===2||a.pointerType===3||a.pointerType==="pen"||a.pointerType==="touch"}function E(){H(l.repaint)}function q(){E();var a=g.transform,b=a[4]/g.drawArea[2];g.chart.setXRange(g.series,b,a[0]+b)}function n(){return!g.chart.config.isHorizontal}function A(a,b,c){return n()?a.y>=r(b)&&a.y<=s(b)&&a.x>t(b)-c/2&&a.x<t(b)+c/2:a.x>=t(b)&&a.x<=u(b)&&a.y>r(b)-c/2&&a.y<r(b)+c/2}function B(a,b,c){return n()?
a.y>=r(b)&&a.y<=s(b)&&a.x>u(b)-c/2&&a.x<u(b)+c/2:a.x>=t(b)&&a.x<=u(b)&&a.y>s(b)-c/2&&a.y<s(b)+c/2}function w(a,b){return n()?a.y>=r(b)&&a.y<=s(b)&&a.x>t(b)&&a.x<u(b):a.x>=t(b)&&a.x<=u(b)&&a.y>r(b)&&a.y<s(b)}function C(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];b=b[0]+f;a=(f*c[2]+a)/c[2];if(!(1/(b-a)>g.chart.config.maxZoom[0])){if(a<0)a=0;if(a>1)a=1;o.changeRange(a,b);q()}}function D(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];a=((b[0]+f)*c[2]+a)/c[2];if(!(1/(a-f)>g.chart.config.maxZoom[0])){if(a<
0)a=0;if(a>1)a=1;o.changeRange(f,a);q()}}function F(a){var b=g.transform,c=g.drawArea,f=b[4]/c[2];b=b[0]+f;f=f*c[2];var d=f+a;if(d<0){a=-f;d=0}d=d/c[2];b=b*c[2];a=b+a;if(a>c[2]){a=c[2]-b;d=f+a;d=d/c[2];a=c[2]}o.changeRange(d,a/c[2]);q()}var H=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,0)}}();jQuery.data(j,"sobj",this);var o=this,e=G.WT;l.canvas.style.msTouchAction="none";var m=false;if(!window.TouchEvent&&
(window.MSPointerEvent||window.PointerEvent))(function(){function a(){if(pointers.length>0&&!m)m=true;else if(pointers.length<=0&&m)m=false}function b(d){if(z(d)){d.preventDefault();pointers.push(d);a();o.touchStarted(j,{touches:pointers.slice(0)})}}function c(d){if(m)if(z(d)){d.preventDefault();var k;for(k=0;k<pointers.length;++k)if(pointers[k].pointerId===d.pointerId){pointers.splice(k,1);break}a();o.touchEnded(j,{touches:pointers.slice(0),changedTouches:[]})}}function f(d){if(z(d)){d.preventDefault();
var k;for(k=0;k<pointers.length;++k)if(pointers[k].pointerId===d.pointerId){pointers[k]=d;break}a();o.touchMoved(j,{touches:pointers.slice(0)})}}pointers=[];if(window.PointerEvent){j.addEventListener("pointerdown",b);j.addEventListener("pointerup",c);j.addEventListener("pointerout",c);j.addEventListener("pointermove",f)}else{j.addEventListener("MSPointerDown",b);j.addEventListener("MSPointerUp",c);j.addEventListener("MSPointerOut",c);j.addEventListener("MSPointerMove",f)}})();var t=e.gfxUtils.rect_left,
u=e.gfxUtils.rect_right,r=e.gfxUtils.rect_top,s=e.gfxUtils.rect_bottom,h=null,i=null;this.changeRange=function(a,b){if(a<0)a=0;if(b>1)b=1;var c=g.drawArea;g.transform[0]=b-a;g.transform[4]=a*c[2];E()};this.mouseDown=function(a,b){if(!m){h=e.widgetCoordinates(j,b);a=g.rect();if(A(h,a,10))i=1;else if(B(h,a,10))i=3;else if(w(h,a))i=2;else{i=null;return}e.cancelEvent(b)}};this.mouseUp=function(a,b){if(!m){h=null;if(i!==null){i=null;e.cancelEvent(b)}}};this.mouseDrag=function(a,b){if(!m)if(i){e.cancelEvent(b);
a=e.widgetCoordinates(j,b);if(h===null)h=a;else{b=n()?a.x-h.x:a.y-h.y;switch(i){case 1:C(b);break;case 2:F(b);break;case 3:D(b);break}h=a;q()}}};this.mouseMoved=function(a,b){setTimeout(function(){if(!m)if(!i){var c=e.widgetCoordinates(j,b),f=g.rect();l.canvas.style.cursor=A(c,f,10)||B(c,f,10)?n()?"col-resize":"row-resize":w(c,f)?"move":"auto"}},0)};var v=false,p=false,x=null;this.touchStarted=function(a,b){v=b.touches.length===1;p=b.touches.length===2;if(v){h=e.widgetCoordinates(l.canvas,b.touches[0]);
a=g.rect();if(A(h,a,20))i=1;else if(B(h,a,20))i=3;else if(w(h,a))i=2;else{i=null;return}e.capture(null);e.capture(l.canvas);b.preventDefault&&b.preventDefault()}else if(p){i=null;var c=[e.widgetCoordinates(l.canvas,b.touches[0]),e.widgetCoordinates(l.canvas,b.touches[1])];a=g.rect();if(w(c[0],a)&&w(c[1],a)){x=n()?Math.abs(c[0].x-c[1].x):Math.abs(c[0].y-c[1].y);e.capture(null);e.capture(l.canvas);b.preventDefault&&b.preventDefault()}}};this.touchEnded=function(a,b){var c=Array.prototype.slice.call(b.touches);
a=v;var f=p,d=c.length===0;v=c.length===1;p=c.length===2;d||function(){var k;for(k=0;k<b.changedTouches.length;++k)(function(){for(var I=b.changedTouches[k].identifier,y=0;y<c.length;++y)if(c[y].identifier===I){c.splice(y,1);return}})()}();d=c.length===0;v=c.length===1;p=c.length===2;if(d&&a){h=null;if(i===null)return;i=null;e.cancelEvent(b)}if(v&&f){p=false;x=null;e.cancelEvent(b);o.touchStarted(j,b)}if(d&&f){p=false;x=null;e.cancelEvent(b)}};this.touchMoved=function(a,b){if(i){e.cancelEvent(b);
a=e.widgetCoordinates(j,b);if(h===null)h=a;else{b=n()?a.x-h.x:a.y-h.y;switch(i){case 1:C(b);break;case 2:F(b);break;case 3:D(b);break}h=a;q()}}else if(p){touches=[e.widgetCoordinates(l.canvas,b.touches[0]),e.widgetCoordinates(l.canvas,b.touches[1])];g.rect();a=n()?Math.abs(touches[0].x-touches[1].x):Math.abs(touches[0].y-touches[1].y);b=a-x;C(-b/2);D(b/2);x=a}};this.updateConfig=function(a){for(var b in a)if(a.hasOwnProperty(b))g[b]=a[b];q()};o.updateConfig({})});
